I"<h2 id="1-giới-thiệu">1. Giới thiệu</h2>

<p>Vào một ngày đẹp trời, một người em đồng nghiệp cũ liên hệ với tôi với mong muốn được truy cập vào card Xilinx Alveo AU200 để làm project với <code class="language-plaintext highlighter-rouge">XDMA</code>, <code class="language-plaintext highlighter-rouge">QDMA</code>. Vì máy của tôi có nhiều tài liệu cá nhân nên không thể cho truy cập trực tiếp vào máy vật lý được. Sau một lúc tìm hiểu, tôi quyết định cài đặt một máy ảo (VM) và cho card PCIe passthrough vào máy ảo này. Khi đó, em ấy có thể cài đặt driver trực tiếp trên máy ảo, program FPGA thông qua hardware client kết nối với hardware server cài đặt trên máy vật lý.</p>

<p>Những tưởng việc cài đặt sẽ mất khoảng 1 buổi chiều là xong, nhưng thực tế tôi mất hơn 2 ngày (16h) để có thể cài đặt xong. Series này sẽ mô tả chi tiết các bước tôi đã trải qua để hoàn thiện việc cài đặt.</p>

<h2 id="2-cấu-hình-và-thông-số-host">2. Cấu hình và thông số host</h2>

<ul>
  <li>Mainboard: Z390 Gigabyte Aorus Wifi Pro</li>
  <li>CPU: Core i9 9900K</li>
  <li>RAM: 64GB DDR4</li>
  <li>SSD: 2TB</li>
  <li>OS: Ubuntu 20.04 - kernel: 5.15.06</li>
</ul>

<h2 id="3-máy-ảo-vm">3. Máy ảo (VM)</h2>

<p>Giải pháp mà tôi lựa chọn cho việc ảo hóa là KVM. KVM (Kernel-based Virtual Machine) là một công nghệ ảo hóa dựa trên kernel Linux, cho phép tạo và quản lý máy ảo trên một hệ thống Linux.</p>

<p>KVM được tích hợp trực tiếp vào kernel Linux, điều này đồng nghĩa với việc nó sử dụng những lợi ích và tính ổn định của kernel Linux. Ngoài ra, việc nó được tích hợp vào kernel Linux và sử dụng trực tiếp tài nguyên phần cứng của hệ thống, nên nó có hiệu suất cao và độ trễ thấp.</p>

<p>KVM hỗ trợ nhiều kiến trúc phần cứng (ISA), bao gồm x86, ARM và một số kiến trúc khác. Điều này làm cho nó trở thành một lựa chọn linh hoạt cho nhiều loại hệ thống và ứng dụng.</p>

<p>KVM hỗ trợ hệ điều hành đa dạng (Guest OS) bao gồm Linux, Windows, BSD, và nhiều distro Linux khác nhau. Điều này giúp chạy các ứng dụng và máy ảo đa dạng trên cùng một hệ thống.</p>

<p>Hỗ Trợ Ảo Hóa Đầy Đủ: KVM hỗ trợ ảo hóa đầy đủ, bao gồm ảo hóa CPU và I/O. Điều này cho phép chạy các máy ảo có hiệu suất cao và sử dụng đa dạng tài nguyên.</p>

<p>Bảo Mật: KVM được tích hợp sâu vào kernel Linux, điều này giúp cải thiện bảo mật bằng cách sử dụng các tính năng bảo mật của kernel.</p>

<p>Quản Lý Tài Nguyên: KVM có khả năng quản lý tài nguyên linh hoạt, cho phép bạn cấp phát tài nguyên (CPU, RAM, ổ cứng) cho các máy ảo một cách tùy chỉnh.</p>

<p>Hỗ Trợ Cộng Đồng Mạnh Mẽ: KVM được phát triển và duy trì bởi một cộng đồng lớn của các nhà phát triển và người dùng. Điều này đồng nghĩa với việc có nhiều tài liệu và hỗ trợ trực tuyến.</p>

<p>Chi Phí Thấp: KVM là mã nguồn mở và miễn phí, giúp giảm đi các chi phí liên quan đến giấy phép và phần mềm.</p>

<p>Khả Năng Ảo Hóa GPU: KVM hỗ trợ ảo hóa GPU, cho phép bạn chạy ứng dụng đòi hỏi đồ họa cao cấp trong máy ảo.</p>

<p>Mạnh Mẽ Cho Ảo Hóa Đám Mây: KVM thường được sử dụng trong các mô hình ảo hóa đám mây với các công cụ quản lý như OpenStack.</p>

:ET