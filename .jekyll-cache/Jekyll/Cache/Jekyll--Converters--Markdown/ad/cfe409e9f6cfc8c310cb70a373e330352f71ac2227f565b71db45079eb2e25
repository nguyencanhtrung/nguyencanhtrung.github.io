I"ÂE<h2 id="1-workflow-vá»›i-docker">1. Workflow vá»›i docker</h2>

<p>Step 1: Pull image vá» mÃ¡y vá»›i <code class="language-plaintext highlighter-rouge">docker pull</code>. TÆ°Æ¡ng tá»± nhÆ° file cÃ i Ä‘áº·t.</p>

<p>Step 2: Khá»Ÿi táº¡o vÃ  cháº¡y má»™t container vá»›i image Ä‘Æ°á»£c kÃ©o vá» á»Ÿ bÆ°á»›c 1.</p>

<p>Step 3: CÃ i Ä‘áº·t tools trong container vÃ  lÃ m cÃ¡c tÃ¡c vá»¥ cáº§n thiáº¿t vá»›i container nÃ y. CÃ³ thá»ƒ <code class="language-plaintext highlighter-rouge">stop</code> container, <code class="language-plaintext highlighter-rouge">exit</code> container â€¦</p>

<p>Step 4: Commit Ä‘á»ƒ lÆ°u thÃ nh 1 images má»›i chá»©a bá»™ tools Ä‘Ã£ Ä‘Æ°á»£c cÃ i Ä‘áº·t cÅ©ng nhÆ° táº¥t cáº£ dá»¯ liá»‡u khi thá»±c hiá»‡n cÃ¡c tÃ¡c vá»¥ vá»›i <code class="language-plaintext highlighter-rouge">docker commit</code>. Images nÃ y cÃ³ thá»ƒ dÃ¹ng á»Ÿ cÃ¡c mÃ¡y khÃ¡c nhau vá»›i toÃ n bá»™ tools cÅ©ng nhÆ° dá»¯ liá»‡u táº¡i thá»i Ä‘iá»ƒm thá»±c hiá»‡n commit.</p>

<p>Má»™t container cÃ³ thá»ƒ hiá»ƒu nhÆ° lÃ  má»™t pháº§n má»m Ä‘Ã£ Ä‘Æ°á»£c cÃ i Ä‘áº·t tá»« bá»™ cÃ i <code class="language-plaintext highlighter-rouge">image</code>. CÃ³ má»™t Ä‘iá»u khÃ¡c biá»‡t cÄƒn báº£n á»Ÿ so sÃ¡nh trÃªn lÃ : má»™t bá»™ cÃ i chá»‰ cÃ i Ä‘Æ°á»£c duy nháº¥t 1 pháº§n má»m trÃªn 1 mÃ¡y tÃ­nh, nhÆ°ng vá»›i docker, má»™t image cÃ³ thá»ƒ táº¡o Ä‘Æ°á»£c khÃ´ng giá»›i háº¡n cÃ¡c container trÃªn cÃ¹ng má»™t mÃ¡y tÃ­nh.</p>

<p>Má»™t container luÃ´n cÃ³ há»‡ Ä‘iá»u hÃ nh giá»‘ng nhÆ° má»™t mÃ¡y áº£o, tuy nhiÃªn nÃ³ cÃ³ thá»ƒ sá»­ dá»¥ng Ä‘Æ°á»£c toÃ n bá»™ sá»©c máº¡nh pháº§n cá»©ng cá»§a host, khÃ´ng pháº£i phÃ¢n chia core hay ram nhÆ° má»™t mÃ¡y áº£o.</p>

<h2 id="2-cÃ¡c-tráº¡ng-thÃ¡i-cá»§a-má»™t-container">2. CÃ¡c tráº¡ng thÃ¡i cá»§a má»™t container</h2>

<p>Tráº¡ng thÃ¡i cá»§a má»™t container cÃ³ thá»ƒ Ä‘Æ°á»£c quan sÃ¡t vá»›i cÃ¢u lá»‡nh <code class="language-plaintext highlighter-rouge">docker ps -a</code></p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">Created</code> Container Ä‘Æ°á»£c khá»Ÿi táº¡o má»›i báº±ng cÃ¢u lá»‡nh <code class="language-plaintext highlighter-rouge">docker run</code></li>
  <li><code class="language-plaintext highlighter-rouge">up</code> container Ä‘ang á»Ÿ tráº¡ng thÃ¡i hoáº¡t Ä‘á»™ng (active)</li>
  <li><code class="language-plaintext highlighter-rouge">paused</code> tráº¡ng thÃ¡i táº¡m ngÆ°ng, Ä‘Ã³ng bÄƒng</li>
  <li><code class="language-plaintext highlighter-rouge">Exited</code> tráº¡ng thÃ¡i off</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    $docker ps -a

    CONTAINER ID   IMAGE          COMMAND       CREATED          STATUS                    PORTS     NAMES
    71e7c47685f2   bi             "/bin/bash"   48 minutes ago   Up 48 minutes                       bo
    6a04fd311401   63878e911300   "/bin/bash"   4 hours ago      Up 4 hours                          kind_lamport
    4fc3ae93bff1   63878e911300   "/bin/bash"   4 hours ago      Exited (1) 4 hours ago              compassionate_aryabhata
    b58f67683814   centos         "-it"         3 months ago     Created                             centos
</code></pre></div></div>

<h2 id="3-docker-commands">3. Docker commands</h2>

<ul>
  <li><code class="language-plaintext highlighter-rouge">docker run</code> : Docker sáº½ táº¡o má»™t container má»›i vÃ  khá»Ÿi cháº¡y container. Container nÃ y sáº½ chÆ°a tá»“n táº¡i trÃªn há»‡ thá»‘ng trÆ°á»›c Ä‘Ã³.</li>
  <li><code class="language-plaintext highlighter-rouge">docker ps</code> : Liá»‡t kÃª tráº¡ng thÃ¡i cÃ¡c container Ä‘ang á»Ÿ tráº¡ng thÃ¡i <code class="language-plaintext highlighter-rouge">active</code> or <code class="language-plaintext highlighter-rouge">up</code>
    <ul>
      <li><code class="language-plaintext highlighter-rouge">docker ps -a</code>: Liá»‡t kÃª táº¥t cáº£ cÃ¡c container Ä‘Ã£ tá»“n táº¡i trÃªn há»‡ thá»‘ng vÃ  tráº¡ng thÃ¡i cá»§a nÃ³</li>
      <li><code class="language-plaintext highlighter-rouge">docker ps -l</code>: Liá»‡t kÃª container cháº¡y á»Ÿ láº§n cuá»‘i</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">docker start</code>: Khá»Ÿi cháº¡y má»™t container Ä‘Ã£ tá»“n táº¡i trÃªn há»‡ thá»‘ng</li>
  <li><code class="language-plaintext highlighter-rouge">docker attach</code>: Truy cáº­p trá»±c tiáº¿p vÃ o container Ä‘ang â€˜activeâ€™</li>
  <li><code class="language-plaintext highlighter-rouge">ctrl+p then ctrl+q</code>: ThoÃ¡t khá»i container Ä‘ang cháº¡y tuy nhiÃªn khÃ´ng thay Ä‘á»•i tráº¡ng thÃ¡i â€˜activeâ€™ cá»§a container</li>
  <li><code class="language-plaintext highlighter-rouge">exit</code>: ThoÃ¡t khá»i container vÃ  chuyá»ƒn container vá» tráº¡ng thÃ¡i â€˜exitedâ€™</li>
  <li><code class="language-plaintext highlighter-rouge">docker rm</code></li>
  <li><code class="language-plaintext highlighter-rouge">docker rename</code></li>
  <li><code class="language-plaintext highlighter-rouge">docker images</code>: list cÃ¡c docker image trÃªn há»‡ thá»‘ng</li>
  <li><code class="language-plaintext highlighter-rouge">docker rmi</code>: dÃ¹ng Ä‘á»ƒ gá»¡ bá» docker image</li>
  <li><code class="language-plaintext highlighter-rouge">docker commit</code></li>
</ul>

<h3>â€”â€”â€”â€“</h3>
<h3 id="a-docker-run">a. $docker run</h3>

<p><code class="language-plaintext highlighter-rouge">docker run</code> táº¡o má»™t container má»›i dá»±a trÃªn <code class="language-plaintext highlighter-rouge">image</code> Ä‘Æ°á»£c cung cáº¥p. Container má»›i nÃ y Ä‘Æ°á»£c Ä‘á»‹nh danh bá»Ÿi <code class="language-plaintext highlighter-rouge">container name</code> vÃ  <code class="language-plaintext highlighter-rouge">containter id</code>.</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">docker run</code> chá»‰ cáº§n cháº¡y <code class="language-plaintext highlighter-rouge">docker run</code> má»™t láº§n duy nháº¥t.</li>
  <li><code class="language-plaintext highlighter-rouge">container name</code>: má»—i má»™t <code class="language-plaintext highlighter-rouge">container</code> Ä‘Æ°á»£c táº¡o ra sáº½ cÃ³ má»™t tÃªn do há»‡ thá»‘ng tá»± táº¡o ra. Ta cÃ³ thá»ƒ chá»§ Ä‘á»™ng Ä‘áº·t tÃªn cho <code class="language-plaintext highlighter-rouge">container</code> báº±ng <code class="language-plaintext highlighter-rouge">--name=&lt;ten&gt;</code>
    <ul>
      <li>CÃ³ thá»ƒ rename cho má»™t container báº±ng <code class="language-plaintext highlighter-rouge">docker rename old_name new_name</code></li>
      <li>Loáº¡i bá» container báº±ng <code class="language-plaintext highlighter-rouge">docker rm name</code> hoáº·c <code class="language-plaintext highlighter-rouge">docker rm &lt;container-id&gt;</code></li>
    </ul>
  </li>
  <li>CÃ¡c cá» quan trá»ng
    <ul>
      <li><code class="language-plaintext highlighter-rouge">-it</code> : viáº¿t táº¯t cá»§a interactive vÃ  terminal: cho phÃ©p ngÆ°á»i dÃ¹ng container Ä‘Æ°á»£c tÆ°Æ¡ng tÃ¡c vá»›i terminal cá»§a container</li>
      <li><code class="language-plaintext highlighter-rouge">--name</code>: Ä‘áº·t tÃªn cho container khi khá»Ÿi táº¡o</li>
      <li><code class="language-plaintext highlighter-rouge">--env</code>: thiáº¿t láº­p biáº¿n mÃ´i trÆ°á»ng cho container</li>
      <li><code class="language-plaintext highlighter-rouge">--net</code>: thiáº¿t láº­p network mode cá»§a container</li>
      <li><code class="language-plaintext highlighter-rouge">-v</code>: mounting volume cho container</li>
    </ul>
  </li>
</ul>

<h4 id="example-1">Example 1</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker run --name=bi -it ubuntu:20.04 /bin/bash
</code></pre></div></div>
<p>Giáº£i nghÄ©a: <code class="language-plaintext highlighter-rouge">docker run</code> khá»Ÿi cháº¡y má»™t <code class="language-plaintext highlighter-rouge">container</code> vá»›i cÃ¡c cá» sau</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">--name</code>: Ä‘áº·t tÃªn cho container lÃ  <code class="language-plaintext highlighter-rouge">bi</code></li>
  <li><code class="language-plaintext highlighter-rouge">-it</code>: lÃ  má»™t tá»• há»£p cá» bao gá»“m cá» <code class="language-plaintext highlighter-rouge">-i</code> interactive mode vÃ  cá» <code class="language-plaintext highlighter-rouge">-t</code> terminal. Cá» <code class="language-plaintext highlighter-rouge">-it</code> cho phÃ©p host tÆ°Æ¡ng tÃ¡c vá»›i <code class="language-plaintext highlighter-rouge">container</code> terminal (shell)</li>
  <li><code class="language-plaintext highlighter-rouge">ubuntu:20.04</code>: images Ä‘á»ƒ táº¡o container lÃ  images chá»©a OS ubuntu 20.04</li>
  <li><code class="language-plaintext highlighter-rouge">bin/bash</code>: lÃ  cÃ¢u lá»‡nh ta muá»‘n cháº¡y trong container. Trong trÆ°á»ng há»£p nÃ y ta gá»i bash shell cá»§a container.</li>
</ul>

<p>Khi ta cháº¡y cÃ¢u lá»‡nh trÃªn: Docker sáº½ táº¡o má»™t container má»›i cÃ³ tÃªn lÃ  <code class="language-plaintext highlighter-rouge">bi</code> tá»« <code class="language-plaintext highlighter-rouge">image</code> <code class="language-plaintext highlighter-rouge">ubuntu:20.04</code> vÃ  cho phÃ©p báº¡n tÆ°Æ¡ng tÃ¡c vá»›i terminal bÃªn trong containerâ€™s bash shell</p>

<h4 id="example-2">Example 2</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker run --name=bi -it --env="DISPLAY" --net="host" ubuntu:20.04 /bin/bash
</code></pre></div></div>

<p>Giáº£i nghÄ©a: <code class="language-plaintext highlighter-rouge">docker run</code> khá»Ÿi cháº¡y má»™t <code class="language-plaintext highlighter-rouge">container</code> vá»›i cÃ¡c cá» sau</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">--env="DISPLAY"</code>  set biáº¿n mÃ´i trÆ°á»ng <code class="language-plaintext highlighter-rouge">DISPLAY</code> trong container báº±ng giÃ¡ trá»‹ cá»§a X11 display cá»§a mÃ¡y host. Cá» nÃ y sáº½ giÃºp cháº¡y cÃ¡c á»©ng dá»¥ng yÃªu cáº§u GUI trong container.</li>
  <li><code class="language-plaintext highlighter-rouge">--net="host"</code> set network mode cá»§a container vá» giÃ¡ trá»‹ <code class="language-plaintext highlighter-rouge">host</code>, nÃ³ cho phÃ©p sá»­ dá»¥ng host network stack. Cá» nÃ y lÃ  cáº§n thiáº¿t giÃºp container káº¿t ná»‘i vá»›i X11 server á»Ÿ host.</li>
</ul>

<p>Khi cháº¡y cÃ¢u lá»‡nh trÃªn: Docker sáº½ táº¡o má»™t container má»›i cÃ³ tÃªn lÃ  <code class="language-plaintext highlighter-rouge">bi</code> tá»« image <code class="language-plaintext highlighter-rouge">ubuntu:20.04</code> vÃ  cho phÃ©p cháº¡y GUI tá»« container, cÅ©ng nhÆ° cho phÃ©p tÆ°Æ¡ng tÃ¡c vá»›i bash shell bÃªn trong container.</p>

<h3 id="-1">â€”â€”â€”â€“</h3>
<h3 id="b-docker-start">b. $docker start</h3>

<p>Docker start Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ khá»Ÿi cháº¡y má»™t container Ä‘ang trong tráº¡ng thÃ¡i <code class="language-plaintext highlighter-rouge">exited</code>.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker start &lt;ten_container&gt;
</code></pre></div></div>

<p>CÃ³ thá»ƒ sá»­ dá»¥ng container name hoáº·c container ID</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>CONTAINER ID   IMAGE          COMMAND       CREATED       STATUS                     PORTS     NAMES
71e7c47685f2   bi             "/bin/bash"   2 weeks ago   Exited (2) 4 seconds ago             bo
6a04fd311401   63878e911300   "/bin/bash"   2 weeks ago   Exited (129) 2 weeks ago             kind_lamport
</code></pre></div></div>

<p>Cháº¡y container <code class="language-plaintext highlighter-rouge">bo</code> báº±ng cÃ¡ch:</p>

<p><code class="language-plaintext highlighter-rouge">$ docker start bo</code></p>

<h3 id="-2">â€”â€”â€”â€“</h3>
<h3 id="c-docker-attach">c. $docker attach</h3>

<p>Sau khi khá»Ÿi cháº¡y má»™t container, truy cáº­p vÃ o mÃ´i trÆ°á»ng cá»§a container báº±ng cÃ¢u lá»‡nh sau:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker attach &lt;ten container&gt;
</code></pre></div></div>

<p>CÃ³ thá»ƒ sá»­ dá»¥ng container name hoáº·c container ID</p>

<p>Truy cáº­p mÃ´i trÆ°á»ng container <code class="language-plaintext highlighter-rouge">bo</code> báº±ng cÃ¡ch:</p>

<p><code class="language-plaintext highlighter-rouge">$docker attach bo</code></p>

<h3 id="-3">â€”â€”â€”â€“</h3>
<h3 id="d-docker-ps">d. $docker ps</h3>

<p><code class="language-plaintext highlighter-rouge">docker ps</code> Ä‘Æ°á»£c sá»­ dá»¥ng vá»›i cÃ¡c cá» khÃ¡c nhau vÃ  cÃ³ chá»©c nÄƒng khÃ¡c nhau nhÆ° báº£ng mÃ´ táº£ sau Ä‘Ã¢y</p>

<p><code class="language-plaintext highlighter-rouge">docker ps</code> liá»‡t kÃª active containers.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    $docker ps

    CONTAINER ID   IMAGE          COMMAND       CREATED          STATUS          PORTS     NAMES
    71e7c47685f2   bi             "/bin/bash"   43 minutes ago   Up 43 minutes             bo
    6a04fd311401   63878e911300   "/bin/bash"   4 hours ago      Up 4 hours                kind_lamport
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">docker ps -a</code>: Liá»‡t kÃª táº¥t cáº£ cÃ¡c container Ä‘Ã£ tá»“n táº¡i trÃªn há»‡ thá»‘ng vÃ  tráº¡ng thÃ¡i cá»§a nÃ³</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    $docker ps -a

    CONTAINER ID   IMAGE          COMMAND       CREATED          STATUS                    PORTS     NAMES
    71e7c47685f2   bi             "/bin/bash"   48 minutes ago   Up 48 minutes                       bo
    6a04fd311401   63878e911300   "/bin/bash"   4 hours ago      Up 4 hours                          kind_lamport
    4fc3ae93bff1   63878e911300   "/bin/bash"   4 hours ago      Exited (1) 4 hours ago              compassionate_aryabhata
    787633e9ba6b   b1aca4e283c3   "/bin/bash"   4 hours ago      Exited (1) 4 hours ago              friendly_lalande
    da5542d0afe9   b1aca4e283c3   "/bin/bash"   4 hours ago      Exited (0) 4 hours ago              stoic_sammet
    ddee01f20648   ubuntu:20.04   "/bin/bash"   4 hours ago      Exited (0) 4 hours ago              hopeful_galileo
    ffd04bafba30   ubuntu:20.04   "/bin/bash"   4 hours ago      Exited (1) 4 hours ago              sad_pike
    c9b722c07457   ubuntu:20.04   "/bin/bash"   4 hours ago      Exited (0) 4 hours ago              vigorous_swirles
    a7f42806d870   ubuntu         "/bin/bash"   5 hours ago      Exited (0) 5 hours ago              fervent_solomon
    a0c13546b00c   1c5c8d0b973a   "/bin/bash"   5 hours ago      Exited (0) 5 hours ago              blissful_easley
    191e06db8539   ubuntu:20.04   "/bin/bash"   5 hours ago      Exited (0) 5 hours ago              festive_shtern
    3212c599efc1   centos         "/bin/bash"   3 months ago     Exited (0) 3 months ago             catapult
    23716beeda73   centos         "/bin/bash"   3 months ago     Exited (0) 3 months ago             kind_hertz
    e8ddaa72a7ec   centos         "/bin/bash"   3 months ago     Exited (0) 3 months ago             centos7
    b58f67683814   centos         "-it"         3 months ago     Created                             centos
    78409755de36   feb5d9fea6a5   "/hello"      3 months ago     Exited (0) 3 months ago             boring_shaw
    c5e156ba746f   feb5d9fea6a5   "/hello"      3 months ago     Exited (0) 3 months ago             eloquent_merkle
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">docker ps -l</code>: Liá»‡t kÃª container cháº¡y á»Ÿ láº§n cuá»‘i cÃ¹ng</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    $docker ps -l

    CONTAINER ID   IMAGE     COMMAND       CREATED          STATUS          PORTS     NAMES
    71e7c47685f2   bi        "/bin/bash"   49 minutes ago   Up 49 minutes             bo
</code></pre></div></div>

<h3 id="-4">â€”â€”â€”â€“</h3>
<h3 id="e-docker-rm">e. $docker rm</h3>

<p>NhÆ° Ä‘Ã£ tháº¥y á»Ÿ danh sÃ¡ch <code class="language-plaintext highlighter-rouge">docker ps -a</code>, cÃ³ ráº¥t nhiá»u containers khÃ´ng Ä‘Æ°á»£c dÃ¹ng mÃ  váº«n tá»“n táº¡i trÃªn há»‡ thá»‘ng. Ta cÃ³ thá»ƒ loáº¡i bá» chÃºng báº±ng cÃ¢u lá»‡nh <code class="language-plaintext highlighter-rouge">docker rm</code></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker rm eloquent_merkle
</code></pre></div></div>

<p>TÆ°Æ¡ng Ä‘Æ°Æ¡ng vá»›i</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker rm c5e156ba746f
</code></pre></div></div>

<h3 id="-5">â€”â€”â€”â€“</h3>
<h3 id="f-docker-images">f. $docker images</h3>

<p>Liá»‡t kÃª táº¥t cáº£ cÃ¡c images cÃ³ trÃªn há»‡ thá»‘ng</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$docker images
REPOSITORY   TAG       IMAGE ID       CREATED       SIZE
bi           latest    9b486bf052eb   6 hours ago   1.14GB
ubuntu       latest    08d22c0ceb15   3 weeks ago   77.8MB
ubuntu       20.04     1c5c8d0b973a   3 weeks ago   72.8MB

</code></pre></div></div>

<h3 id="-6">â€”â€”â€”â€“</h3>
<h3 id="g-docker-rmi">g. $docker rmi</h3>

<p>Äá»ƒ gá»¡ docker images, trÆ°á»›c tiÃªn pháº£i gá»¡ bá» toÃ n bá»™ cÃ¡c container Ä‘Æ°á»£c táº¡o bá»Ÿi image cáº§n xÃ³a báº±ng cÃ¢u lá»‡nh <code class="language-plaintext highlighter-rouge">docker rm &lt;container-name&gt;</code>. Sau Ä‘Ã³, dÃ¹ng cÃ¢u lá»‡nh <code class="language-plaintext highlighter-rouge">docker rmi</code></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker rmi 08d22c0ceb15
</code></pre></div></div>
:ET