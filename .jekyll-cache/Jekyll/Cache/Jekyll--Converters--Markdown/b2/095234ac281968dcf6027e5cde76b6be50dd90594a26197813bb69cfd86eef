I"<h2 id="1-giá»›i-thiá»‡u">1. Giá»›i thiá»‡u</h2>

<p>VÃ o má»™t ngÃ y Ä‘áº¹p trá»i, má»™t ngÆ°á»i em Ä‘á»“ng nghiá»‡p cÅ© liÃªn há»‡ vá»›i tÃ´i vá»›i mong muá»‘n Ä‘Æ°á»£c truy cáº­p vÃ o card Xilinx Alveo AU200 Ä‘á»ƒ lÃ m project vá»›i <code class="language-plaintext highlighter-rouge">XDMA</code>, <code class="language-plaintext highlighter-rouge">QDMA</code>. VÃ¬ mÃ¡y cá»§a tÃ´i cÃ³ nhiá»u tÃ i liá»‡u cÃ¡ nhÃ¢n nÃªn khÃ´ng thá»ƒ cho truy cáº­p trá»±c tiáº¿p vÃ o mÃ¡y váº­t lÃ½ Ä‘Æ°á»£c. Sau má»™t lÃºc tÃ¬m hiá»ƒu, tÃ´i quyáº¿t Ä‘á»‹nh cÃ i Ä‘áº·t má»™t mÃ¡y áº£o (VM) vÃ  cho card PCIe passthrough vÃ o mÃ¡y áº£o nÃ y. Khi Ä‘Ã³, em áº¥y cÃ³ thá»ƒ cÃ i Ä‘áº·t driver trá»±c tiáº¿p trÃªn mÃ¡y áº£o, program FPGA thÃ´ng qua hardware client káº¿t ná»‘i vá»›i hardware server cÃ i Ä‘áº·t trÃªn mÃ¡y váº­t lÃ½.</p>

<p>Nhá»¯ng tÆ°á»Ÿng viá»‡c cÃ i Ä‘áº·t sáº½ máº¥t khoáº£ng 1 buá»•i chiá»u lÃ  xong, nhÆ°ng thá»±c táº¿ tÃ´i máº¥t hÆ¡n 2 ngÃ y (16h) Ä‘á»ƒ cÃ³ thá»ƒ cÃ i Ä‘áº·t xong. Series nÃ y sáº½ mÃ´ táº£ chi tiáº¿t cÃ¡c bÆ°á»›c tÃ´i Ä‘Ã£ tráº£i qua Ä‘á»ƒ hoÃ n thiá»‡n viá»‡c cÃ i Ä‘áº·t.</p>

<h2 id="2-cáº¥u-hÃ¬nh-vÃ -thÃ´ng-sá»‘-host">2. Cáº¥u hÃ¬nh vÃ  thÃ´ng sá»‘ host</h2>

<ul>
  <li>Mainboard: Z390 Gigabyte Aorus Wifi Pro</li>
  <li>CPU: Core i9 9900K</li>
  <li>RAM: 64GB DDR4</li>
  <li>SSD: 2TB</li>
  <li>OS: Ubuntu 20.04 - kernel: 5.15.06</li>
</ul>

<h2 id="3-mÃ¡y-áº£o-vm">3. MÃ¡y áº£o (VM)</h2>

<p>Giáº£i phÃ¡p mÃ  tÃ´i lá»±a chá»n cho viá»‡c áº£o hÃ³a lÃ  KVM. KVM (Kernel-based Virtual Machine) lÃ  má»™t cÃ´ng nghá»‡ áº£o hÃ³a dá»±a trÃªn kernel Linux, cho phÃ©p táº¡o vÃ  quáº£n lÃ½ mÃ¡y áº£o trÃªn má»™t há»‡ thá»‘ng Linux.</p>

<p>KVM Ä‘Æ°á»£c tÃ­ch há»£p trá»±c tiáº¿p vÃ o kernel Linux, Ä‘iá»u nÃ y Ä‘á»“ng nghÄ©a vá»›i viá»‡c nÃ³ sá»­ dá»¥ng nhá»¯ng lá»£i Ã­ch vÃ  tÃ­nh á»•n Ä‘á»‹nh cá»§a kernel Linux. NgoÃ i ra, viá»‡c nÃ³ Ä‘Æ°á»£c tÃ­ch há»£p vÃ o kernel Linux vÃ  sá»­ dá»¥ng trá»±c tiáº¿p tÃ i nguyÃªn pháº§n cá»©ng cá»§a há»‡ thá»‘ng, nÃªn nÃ³ cÃ³ hiá»‡u suáº¥t cao vÃ  Ä‘á»™ trá»… tháº¥p.</p>

<p>KVM há»— trá»£ nhiá»u kiáº¿n trÃºc pháº§n cá»©ng (ISA), bao gá»“m x86, ARM vÃ  má»™t sá»‘ kiáº¿n trÃºc khÃ¡c. Äiá»u nÃ y lÃ m cho nÃ³ trá»Ÿ thÃ nh má»™t lá»±a chá»n linh hoáº¡t cho nhiá»u loáº¡i há»‡ thá»‘ng vÃ  á»©ng dá»¥ng.</p>

<p>KVM há»— trá»£ há»‡ Ä‘iá»u hÃ nh Ä‘a dáº¡ng (Guest OS) bao gá»“m Linux, Windows, BSD, vÃ  nhiá»u distro Linux khÃ¡c nhau. Äiá»u nÃ y giÃºp cháº¡y cÃ¡c á»©ng dá»¥ng vÃ  mÃ¡y áº£o Ä‘a dáº¡ng trÃªn cÃ¹ng má»™t há»‡ thá»‘ng.</p>

<p>Há»— Trá»£ áº¢o HÃ³a Äáº§y Äá»§: KVM há»— trá»£ áº£o hÃ³a Ä‘áº§y Ä‘á»§, bao gá»“m áº£o hÃ³a CPU vÃ  I/O. Äiá»u nÃ y cho phÃ©p cháº¡y cÃ¡c mÃ¡y áº£o cÃ³ hiá»‡u suáº¥t cao vÃ  sá»­ dá»¥ng Ä‘a dáº¡ng tÃ i nguyÃªn.</p>

<p>Báº£o Máº­t: KVM Ä‘Æ°á»£c tÃ­ch há»£p sÃ¢u vÃ o kernel Linux, Ä‘iá»u nÃ y giÃºp cáº£i thiá»‡n báº£o máº­t báº±ng cÃ¡ch sá»­ dá»¥ng cÃ¡c tÃ­nh nÄƒng báº£o máº­t cá»§a kernel.</p>

<p>Quáº£n LÃ½ TÃ i NguyÃªn: KVM cÃ³ kháº£ nÄƒng quáº£n lÃ½ tÃ i nguyÃªn linh hoáº¡t, cho phÃ©p báº¡n cáº¥p phÃ¡t tÃ i nguyÃªn (CPU, RAM, á»• cá»©ng) cho cÃ¡c mÃ¡y áº£o má»™t cÃ¡ch tÃ¹y chá»‰nh.</p>

<p>Há»— Trá»£ Cá»™ng Äá»“ng Máº¡nh Máº½: KVM Ä‘Æ°á»£c phÃ¡t triá»ƒn vÃ  duy trÃ¬ bá»Ÿi má»™t cá»™ng Ä‘á»“ng lá»›n cá»§a cÃ¡c nhÃ  phÃ¡t triá»ƒn vÃ  ngÆ°á»i dÃ¹ng. Äiá»u nÃ y Ä‘á»“ng nghÄ©a vá»›i viá»‡c cÃ³ nhiá»u tÃ i liá»‡u vÃ  há»— trá»£ trá»±c tuyáº¿n.</p>

<p>Chi PhÃ­ Tháº¥p: KVM lÃ  mÃ£ nguá»“n má»Ÿ vÃ  miá»…n phÃ­, giÃºp giáº£m Ä‘i cÃ¡c chi phÃ­ liÃªn quan Ä‘áº¿n giáº¥y phÃ©p vÃ  pháº§n má»m.</p>

<p>Kháº£ NÄƒng áº¢o HÃ³a GPU: KVM há»— trá»£ áº£o hÃ³a GPU, cho phÃ©p báº¡n cháº¡y á»©ng dá»¥ng Ä‘Ã²i há»i Ä‘á»“ há»a cao cáº¥p trong mÃ¡y áº£o.</p>

<p>Máº¡nh Máº½ Cho áº¢o HÃ³a ÄÃ¡m MÃ¢y: KVM thÆ°á»ng Ä‘Æ°á»£c sá»­ dá»¥ng trong cÃ¡c mÃ´ hÃ¬nh áº£o hÃ³a Ä‘Ã¡m mÃ¢y vá»›i cÃ¡c cÃ´ng cá»¥ quáº£n lÃ½ nhÆ° OpenStack.</p>

:ET