<!DOCTYPE html> <html lang="en"> <head> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title>5G LDPC - Lifting factor Zc | Trung Canh Nguyen</title> <meta name="author" content="Trung Canh Nguyen"/> <meta name="description" content="Describing 5G LDPC lifting factor and how to calculate it"/> <meta name="keywords" content="catapult, fpga, vhdl, hdl, intel, xilinx"/> <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha256-DF7Zhf293AJxJNTmh5zhoYYIMs2oXitRfBjY+9L//AY=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"/> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css" integrity="sha256-mUZM63G8m73Mcidfrv5E+Y61y7a12O5mW4ezU3bxqW4=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/academicons@1.9.1/css/academicons.min.css" integrity="sha256-i1+4qU2G2860dGGIOJscdC30s9beBXjFfzjWLjBRsBg=" crossorigin="anonymous"> <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/github.css" media="none" id="highlight_theme_light"/> <link rel="shortcut icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>⚛️</text></svg>"> <link rel="stylesheet" href="/assets/css/main.css"> <link rel="canonical" href="https://bobibo.one/blog/2022/ldpc-lifting-factor/"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/native.css" media="none" id="highlight_theme_dark"/> <script src="/assets/js/theme.js"></script> <script src="/assets/js/dark_mode.js"></script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"><span class="font-weight-bold">Trung </span>Canh Nguyen</a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">About</a> </li> <li class="nav-item active"> <a class="nav-link" href="/blog/">Blog<span class="sr-only">(current)</span></a> </li> <li class="nav-item "> <a class="nav-link" href="/projects/">Projects</a> </li> <li class="nav-item "> <a class="nav-link" href="/repositories/">Repositories</a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">Resume</a> </li> <li class="nav-item dropdown "> <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Collections</a> <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown"> <a class="dropdown-item" href="/blog/tag/core/">Fundamental</a> <a class="dropdown-item" href="/blog/tag/hdl/">HDL</a> <a class="dropdown-item" href="/blog/tag/hls/">HLS</a> <div class="dropdown-divider"></div> <a class="dropdown-item" href="/blog/tag/catapult/">Catapult</a> <a class="dropdown-item" href="/blog/tag/intel/">Intel</a> <a class="dropdown-item" href="/blog/tag/xilinx/">Xilinx</a> </div> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="fas fa-moon"></i> <i class="fas fa-sun"></i> </button> </li> </ul> </div> </div> </nav> </header> <div class="container mt-5"> <div class="post"> <header class="post-header"> <h1 class="post-title">5G LDPC - Lifting factor Zc</h1> <p class="post-meta">October 6, 2022</p> <p class="post-tags"> <a href="/blog/2022"> <i class="fas fa-calendar fa-sm"></i> 2022 </a>   ·   <a href="/blog/tag/5g"> <i class="fas fa-hashtag fa-sm"></i> 5g</a>     ·   <a href="/blog/category/vi"> <i class="fas fa-tag fa-sm"></i> vi</a>   </p> </header> <article class="post-content"> <h2 id="overview">Overview</h2> <p>Lifting factor hay expansion factor \(Z_c\) (có nhiều tài liệu ký hiệu là \(Z\)) là tham số được sử dụng để quyết định kích thước của ma trận cơ sở (\(B\)) sẽ được mở rộng bao nhiêu lần. Việc sử dụng <a href="https://bobibo.one/blog/2022/ldpc-base-matrix/">ma trận cơ sở \(B\)</a> để mô tả parity check matrices là một phương pháp hiệu quả giúp giảm tài nguyên nhớ. Về mặt lý thuyết, phương pháp này giảm được \(Z^2_c\) phần tử nhớ (trong thực tế, tài nguyên nhớ sử dụng còn tiếp tục được tối ưu hơn nữa, do việc tính toán chỉ cần sử dụng một phần của ma trận cơ bản bao gồm ma trận \(A, E, C_1, C_2\)).</p> <p>Phần sau sẽ mô tả cách tính \(Z_c\) được mô tả trong tài liệu 3GPP.</p> <hr> <h2 id="compute-z_c">Compute \(Z_c\)</h2> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/01.blogs/221006_ldpc_basematrix/2-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/01.blogs/221006_ldpc_basematrix/2-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/01.blogs/221006_ldpc_basematrix/2-1400.webp"></source> <img src="/assets/img/01.blogs/221006_ldpc_basematrix/2.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <p><br> Mỗi \(i_{LS}\) index sẽ có nhiều giá trị có thể có của \(Z_c\).</p> <p>Việc tính toán các giá trị của \(Z_c\) cho mỗi \(i_{LS}\) index được thự hiện như sau:</p> <table> <thead> <tr> <th style="text-align: center">Tham số</th> <th style="text-align: center">—–</th> <th style="text-align: center">—–</th> <th style="text-align: center">—–</th> <th style="text-align: center">—–</th> <th style="text-align: center">—–</th> <th style="text-align: center">—–</th> <th style="text-align: center">—–</th> <th style="text-align: center">—–</th> </tr> </thead> <tbody> <tr> <td style="text-align: center">\(i_{LS}\)</td> <td style="text-align: center">0</td> <td style="text-align: center">1</td> <td style="text-align: center">2</td> <td style="text-align: center">3</td> <td style="text-align: center">4</td> <td style="text-align: center">5</td> <td style="text-align: center">6</td> <td style="text-align: center">7</td> </tr> <tr> <td style="text-align: center">\(a\)</td> <td style="text-align: center">2</td> <td style="text-align: center">3</td> <td style="text-align: center">5</td> <td style="text-align: center">7</td> <td style="text-align: center">9</td> <td style="text-align: center">11</td> <td style="text-align: center">13</td> <td style="text-align: center">15</td> </tr> <tr> <td style="text-align: center">\(J_a\)</td> <td style="text-align: center">7</td> <td style="text-align: center">7</td> <td style="text-align: center">6</td> <td style="text-align: center">5</td> <td style="text-align: center">5</td> <td style="text-align: center">5</td> <td style="text-align: center">4</td> <td style="text-align: center">4</td> </tr> </tbody> </table> <p><br> Bảng trên được hiểu như sau:</p> <ul> <li> <p>Với index 0, trong đó \(a = 2\) thì \(J_a = 0, 1, 2, ..., 7\)</p> </li> <li> <p>Với index 2, trong đó \(a = 5\) thì \(J_a = 0, 1, 2, ..., 6\) …</p> </li> </ul> <p>Với mỗi giá trị \(a\) hay với mỗi index \(i_{LS}\), thì:</p> \[Z_c = a * 2^{j_a}\] <p>Như vậy table 5.3.2-1 đang mô tả các giá trị của \(Z_c\) ứng với mỗi index, nhưng bản chất nó là tập các giá trị của \(Z_c\) ứng với một giá trị của \(a\). Sau cùng, chúng ta sẽ chỉ quan tâm đến các giá trị của \(Z_c\) mà thôi.</p> <hr> <h2 id="z_c-selection">\(Z_c\) selection</h2> <p>Việc lựa chọn \(Z_c\) phụ thuộc vào <b>độ dài của thông tin cần mã hóa</b> (theo đơn vị bit). Nó được mô tả ở phần <code class="language-plaintext highlighter-rouge">Matlab code</code> dưới đây.</p> <p>Với mỗi \(Z_c\), ma trận cơ sở B sẽ có những ràng buộc sau đây:</p> <ul> <li>Giá trị của elements trong ma trận có giá trị \([-1, 0, .. Z_c-1]\)</li> <li>Các ma trận expansion thay thế cho các elements trong ma trận cơ sở sẽ luôn có kích thước Zc x Zc</li> <li>-1: tương ứng ma trận 0 kích thước Zc x Zc</li> <li>0 : tương ứng với ma trận Identity kích thước Zc x Zc</li> <li>Các giá trị a lớn hơn 0: tương ứng với ma trận Identity được shift phải a lần</li> </ul> <hr> <h2 id="matlab-code">Matlab code</h2> <figure class="highlight"><pre><code class="language-matlab" data-lang="matlab"><table class="rouge-table"><tbody><tr>
<td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
</pre></td> <td class="code"><pre><span class="c1">% Find the minimum value of Z in all sets of lifting sizes in 38.212</span>
<span class="c1">%  Table 5.3.2-1, denoted as Zc, such that Kb*Zc&gt;=KdE1_CB</span>
<span class="c1">%  Step 1: Determine Kb</span>
<span class="c1">%  Step 2: Determine minimum value of Zc</span>

<span class="c1">% Kb is number of columns carrying actual information bit (no filler bits) in base matrix</span>
<span class="k">if</span> <span class="n">NBG</span> <span class="o">==</span> <span class="mi">1</span>
    <span class="n">Kb</span> <span class="o">=</span> <span class="mi">22</span><span class="p">;</span>
<span class="k">else</span>
    <span class="k">if</span> <span class="n">B</span> <span class="o">&gt;</span> <span class="mi">640</span>
        <span class="n">Kb</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
    <span class="k">elseif</span> <span class="n">B</span> <span class="o">&gt;</span> <span class="mi">560</span>
        <span class="n">Kb</span> <span class="o">=</span> <span class="mi">9</span><span class="p">;</span>
    <span class="k">elseif</span> <span class="n">B</span> <span class="o">&gt;</span> <span class="mi">192</span>
        <span class="n">Kb</span> <span class="o">=</span> <span class="mi">8</span><span class="p">;</span>
    <span class="k">else</span>
        <span class="n">Kb</span> <span class="o">=</span> <span class="mi">6</span><span class="p">;</span>
    <span class="k">end</span>
<span class="k">end</span>

<span class="n">Zlist</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">16</span> <span class="mi">18</span><span class="p">:</span><span class="mi">2</span><span class="p">:</span><span class="mi">32</span> <span class="mi">36</span><span class="p">:</span><span class="mi">4</span><span class="p">:</span><span class="mi">64</span> <span class="mi">72</span><span class="p">:</span><span class="mi">8</span><span class="p">:</span><span class="mi">112</span> <span class="mi">120</span> <span class="mi">128</span> <span class="mi">144</span> <span class="mi">160</span><span class="p">:</span><span class="mi">16</span><span class="p">:</span><span class="mi">256</span> <span class="mi">288</span> <span class="mi">320</span> <span class="mi">352</span> <span class="mi">384</span><span class="p">];</span>

<span class="c1">% Kd is length of each codeblock (excluding filler bits)</span>
<span class="k">for</span> <span class="n">Zc</span> <span class="o">=</span> <span class="n">Zlist</span>
    <span class="k">if</span> <span class="n">Kb</span><span class="o">*</span><span class="n">Zc</span> <span class="o">&gt;=</span> <span class="n">Kd</span>
        <span class="k">break</span><span class="p">;</span>
    <span class="k">end</span>
<span class="k">end</span>
</pre></td> </tr></tbody></table></code></pre></figure> </article> </div> </div> <footer class="fixed-bottom"> <div class="container mt-0"> © Copyright 2023 Trung Canh Nguyen. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="noopener noreferrer">Jekyll</a>. Hosted by <a href="https://pages.github.com/" target="_blank" rel="noopener noreferrer">GitHub Pages</a>. Last updated: November 09, 2023. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha256-fgLAgv7fyCGopR/gBNq2iW3ZKIdqIcyshnUULC4vex8=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.6/dist/medium-zoom.min.js" integrity="sha256-EdPgYcPk/IIrw7FYeuJQexva49pVRZNmt3LculEr7zM=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js"></script> <script defer src="/assets/js/common.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> </body> </html>